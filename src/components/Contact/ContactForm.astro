---
// src/components/QuestionSection.astro
import "../../styles/Contact/ContactForm/StyleSheet.css";
export interface Props {
  title?: string;
  questions?: {
    question: string;
    answer: string;
  }[];
}

const { title, questions = [] } = Astro.props;
---

<div class="menu-container">
  {title && <h2 class="menu-title">{title}</h2>}

  <div class="dropdown-section">
    <div class="dropdown-container">
      <button class="dropdown-button" id="dropdown-button">
        <span id="dropdown-text">Select a question...</span>
        <svg
          class="dropdown-arrow"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <polyline points="6,9 12,15 18,9"></polyline>
        </svg>
      </button>

      <div class="dropdown-menu" id="dropdown-menu">
        {
          questions.map((item, index) => (
            <div
              class="dropdown-item"
              data-index={index}
              data-question={item.question}
              data-answer={item.answer}
            >
              <span class="item-number">
                {String(index + 1).padStart(2, "0")}
              </span>
              <span class="item-text">{item.question}</span>
            </div>
          ))
        }
      </div>
    </div>
  </div>

  <div id="selected-display" class="selected-display">
    {
      questions.length > 0 && (
        <div class="menu-item featured">
          <div class="menu-item-header">
            <span class="menu-item-number" id="display-number">
              01
            </span>
            <h3 class="menu-item-title" id="display-question">
              {questions[0].question}
            </h3>
            <span class="menu-item-price">•••</span>
          </div>
          <p class="menu-item-description" id="display-answer">
            {questions[0].answer}
          </p>
        </div>
      )
    }
  </div>
</div>

<script src="../../Utils/ContactForm/indes.ts"></script>
