---
import Header from "./Kokpit/KokpitHeader.astro";
import DashboardCard from "./Kokpit/KokpitDashboardCard.astro";
import AppDownload from "./Kokpit/KokpitAppDownload.astro";

interface Card {
  title: string;
  icon: string;
  description: string;
  features: { icon: string; text: string }[];
  href: string;
}

interface Props {
  header_description: string;
  header_sub_title1: string;
  header_sub_title2: string;
  cards: Card[]; // changed to plural to match usage
  appDownload_title: string;
  appDownload_text: string;
  appDownload_link_android: string;
  appDownload_link_ios: string;
  android_text_1: string;
  android_text_2: string;
  ios_text_1: string;
  ios_text_2: string;
}

const {
  header_description,
  header_sub_title1,
  header_sub_title2,
  cards, // match plural name
  appDownload_title,
  appDownload_text,
  appDownload_link_android,
  appDownload_link_ios,
  android_text_1,
  android_text_2,
  ios_text_1,
  ios_text_2,
} = Astro.props;
---

<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TNB Mobil | İşletmeniz İçin Dijital Çözümler</title>
    <style>
      :root {
        --primary: #2563eb;
        --primary-light: #60a5fa;
        --secondary: #10b981;
        --dark: #1f2937;
        --gray: #6b7280;
        --light: #f9fafb;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
      }

      body {
        background-color: #f8fafc;
        color: var(--dark);
        line-height: 1.6;
      }

      .cockpit-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      /* Dashboard Grid */
      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin: 50px 0;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="cockpit-container">
      <Header
        description={header_description}
        sub_title1={header_sub_title1}
        sub_title2={header_sub_title2}
      />

      <div class="dashboard-grid">
        {cards.map((card) => <DashboardCard {...card} />)}
      </div>

      <AppDownload
        title={appDownload_title}
        downloadText={appDownload_text}
        googlePlayLink={appDownload_link_android}
        appStoreLink={appDownload_link_ios}
        android_text_1={android_text_1}
        android_text_2={android_text_2}
        ios_text_1={ios_text_1}
        ios_text_2={ios_text_2}
      />
    </div>
  </body>
</html>
