---
import "../styles/Layout/LayoutHeader/StyleSheet.css";
// src/components/Navbar.astro

interface NavItem {
  label: string;
  href: string;
  submenu?: NavItem[];
}

interface Props {
  logoSrc: string;
  logoAlt: string;
  brandName: string;
  navItems: NavItem[];
  externalLinks: NavItem[];
}

const { logoSrc, logoAlt, brandName, navItems, externalLinks } = Astro.props;
---

<nav class="navbar">
  <div class="nav-container">
    <div class="nav-logo">
      <img src={logoSrc} alt={logoAlt} />
      <span><a href="/">{brandName}</a></span>
    </div>

    <div class="nav-menu-container">
      <ul class="nav-menu">
        {
          navItems.map((item) => (
            <li class={item.submenu ? "dropdown" : ""}>
              <a href={item.href} class="nav-link">
                {item.label}{" "}
                {item.submenu ? <span class="dropdown-chevron">â–¾</span> : ""}
              </a>
              {item.submenu && (
                <ul class="dropdown-menu">
                  {item.submenu.map((sub) => (
                    <li>
                      <a href={sub.href}>{sub.label}</a>
                    </li>
                  ))}
                </ul>
              )}
            </li>
          ))
        }

        <li class="external-links">
          {
            externalLinks.map((link) => (
              <a
                href={link.href}
                target="_blank"
                rel="noopener noreferrer"
                class={`external-btn ${
                  link.label.includes("Kokpit") ? "kokpit" : "filo"
                }`}
              >
                {link.label}
              </a>
            ))
          }
        </li>
      </ul>
    </div>

    <!-- Simple, Clean Hamburger Menu -->
    <button class="nav-toggle" aria-label="Toggle navigation">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>

  <!-- Overlay element -->
  <div class="nav-overlay"></div>
</nav>

<script src="../Utils/LayoutHeader/index.ts"></script>
